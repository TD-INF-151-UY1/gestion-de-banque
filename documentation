class CompteBancaire {
  constructor(titulaire, soldeInitial = 0) {
    if (soldeInitial < 0) {
      throw new Error("Le solde initial ne peut pas être négatif.");
    }

    this.titulaire = titulaire;
    this.solde = soldeInitial;
    this.documents = [];
    this.historique = [];
  }

  deposer(montant) {
    if (montant <= 0) {
      throw new Error("Le montant du dépôt doit être positif.");
    }

    this.solde += montant;
    this.historique.push(Dépôt : +${montant});
  }

  retirer(montant) {
    if (montant <= 0) {
      throw new Error("Le montant du retrait doit être positif.");
    }

    if (montant > this.solde) {
      throw new Error("Solde insuffisant.");
    }

    this.solde -= montant;
    this.historique.push(Retrait : -${montant});
  }

  ajouterDocument(code, description) {
    if (!code || !description) {
      throw new Error("Le code et la description du document sont obligatoires.");
    }

    this.documents.push({
      code: code,
      description: description
    });

    this.historique.push(Document ajouté : ${code});
  }

  afficherCompte() {
    console.log("===== COMPTE BANCAIRE =====");
    console.log(Titulaire : ${this.titulaire});
    console.log(Solde actuel : ${this.solde});

    console.log("\nDocuments associés :");
    if (this.documents.length === 0) {
      console.log("Aucun document.");
    } else {
      this.documents.forEach(doc =>
        console.log(- ${doc.code} : ${doc.description})
      );
    }

    console.log("\nHistorique des opérations :");
    if (this.historique.length === 0) {
      console.log("Aucune opération.");
    } else {
      this.historique.forEach(op =>
        console.log(- ${op})
      );
    }
  }
}
